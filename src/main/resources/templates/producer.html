<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Kadmin @ BetterCloud</title>
        <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
        <style>
            #ace-message, #ace-schema {
                width: 100%;
                height: 30em;
                border: 1px solid #cccccc;
            }

            .send-and-results-row {
                margin-bottom: 4em;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div>
                <ul class="nav nav-pills">
                    <li role="presentation"><a th:href="@{/}">Home</a></li>
                    <li role="presentation" class="active"><a th:href="@{/producer}">Custom Producer</a></li>
                    <li role="presentation"><a th:href="@{/consumer}">Consumer</a></li>
                    <li role="presentation"><a th:href="@{/manager}">Manager</a></li>
                </ul>
            </div>
            <div id="main-content"></div>
        </div>

        <script th:inline="javascript">
            /*<![CDATA[*/
            var App = {
                contextPath: [[${contextPath}]],
                infoTemplateLoaded: false,
                errorTemplateLoaded: false,
                mainTemplateLoaded: false,
                pageLoaded: false,
                producer: {}
            };

            /*]]>*/
        </script>
        <script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
        <script type="text/javascript" th:src="@{/js/underscore-min.js}"></script>
        <script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
        <script type="text/javascript" th:src="@{/js/moment.min.js}"></script>
        <script type="text/javascript" th:src="@{/js/ace.min.js}"></script>
        <script type="text/javascript" th:src="@{/producer/main.js}"></script>

        <script>
            $.get(App.contextPath + "/producer/main.html", function (html) {
                $('#main-content').html(html);
                App.mainTemplateLoaded = true;
                initMain();
            });
            $.get(App.contextPath + "/producer/sent-info-template.html", function (html) {
                App.producer.sentInfoTemplate = _.template(html);
                App.infoTemplateLoaded = true;
                initMain();
            });
            $.get(App.contextPath + "/producer/sent-error-template.html", function (html) {
                App.producer.sentErrorTemplate = _.template(html);
                App.errorTemplateLoaded = true;
                initMain();
            });

            $(document).ready(function() {
                App.pageLoaded = true;
                initMain();
            });
        </script>
    </body>
</html>